## 1. Список запросов для чтения данных

Запросы для чтения должны обслуживать операции, которые не изменяют состояние системы, а только извлекают данные.
Основные запросы для нашего случая:

1. Получение списка проектов пользователя:
    - Запрос: "Получить все проекты, в которых участвует пользователь"
2. Получение списка участников проекта:
    - Запрос: "Получить всех участников проекта по его ID"
3. Получение списка задач проекта:
    - Запрос: "Получить все задачи проекта по его ID"
4. Получение задачи по ID:
    - Запрос: "Получить задачу по ее ID"
5. Получение истории изменений для задачи:
    - Запрос: "Получить лог изменений для задачи по ее ID"
6. Получение всех пользователей, которые являются участниками проекта:
    - Запрос: "Получить пользователей проекта по его ID"
7. Получение списка доступных статусов для проекта:
    - Запрос: "Получить все статусы, связанные с проектом"
8. Получение статистики по проекту (например, количество задач по статусам):
    - Запрос: "Получить статистику по задачам проекта (например, количество задач в разных статусах)"

## 2. Ограниченные контексты для каждой операции

Для каждого запроса можно выделить ограниченные контексты, которые будут определять, с какими сущностями и данными мы
работаем:

- Получение всех проектов пользователя:
    - Контекст: Пользователь, Проект
    - Операция ищет проекты, в которых данный пользователь является участником. Контекст включает в себя как данные о
      пользователе, так и проекте.
- Получение списка участников проекта:
    - Контекст: Проект, Пользователь
    - Операция извлекает участников проекта, ссылаясь на проект и данные пользователей.
- Получение всех задач проекта:
    - Контекст: Проект, Задача
    - Для этой операции важно связать проект с его задачами, и получить список задач, привязанных к проекту.
- Получение задачи по ID:
    - Контекст: Задача
    - В данном случае операция работает только в контексте сущности задачи.
- Получение истории изменений задачи:
    - Контекст: Задача, ChangeLog
    - Операция извлекает лог изменений, который связан с определенной задачей.
- Получение всех пользователей, участвующих в проекте:
    - Контекст: Проект, Пользователь
    - Важно связать проект с его участниками, чтобы предоставить пользователю необходимую информацию.
- Получение списка статусов для проекта:
    - Контекст: Статус, Проект
    - Запрос обслуживает статус задач в проекте и привязывает их к определённому проекту.
- Получение статистики по проекту:
    - Контекст: Статус, Задача
    - Запрос может обслуживать статистику по задачам, сгруппированным по статусу, для определенного проекта.

## 3. Агрегаты, задействованные в операциях.

- Пользователь (User):
    - Агрегаты: User
    - Операции, связанные с регистрацией, авторизацией, просмотром информации о пользователях.
    - Контекст: Регистрация и авторизация пользователя, управление учётной записью.
- Проект (Project):
    - Агрегаты: Project, User, Task, Status, ChangeLog
    - Операции, связанные с созданием проекта, добавлением участников, созданием задач, изменением статусов задач.
    - Контекст: Управление проектами, добавление участников, управление задачами и статусами.
- Задача (Task):
    - Агрегаты: Task, ChangeLog, Status, User
    - Операции, связанные с добавлением задач, изменением их статусов, добавлением исполнителей.
    - Контекст: Управление задачами, изменение их статусов, назначение исполнителей.
- Статус (Status):
    - Агрегаты: Status, Project, Task
    - Операции, связанные с созданием, удалением и изменением статусов задач.
    - Контекст: Управление статусами в проекте.

## 4. Проекции для обслуживания запросов

- Проекция для списка проектов пользователя:
    - Структура данных: Список проектов с полями (ID проекта, название проекта, дата создания, участники - список объектов ID участников)
    - Способ построения: Проекция создается асинхронно, когда создается новый проект или добавляются новые участники.
      Она хранит ссылки на участников проекта и информацию о проекте.
- Проекция для задач проекта:
    - Структура данных: Список задач проекта (ID задачи, название, статус, исполнитель - ID участника)
    - Способ построения: Проекция обновляется, когда добавляются или изменяются задачи. Это позволяет быстро извлекать
      все задачи для проекта, фильтровать по статусу, исполнителю и т.д.
- Проекция для участников проекта:
    - Структура данных: Список пользователей, участвующих в проекте (ID пользователя, имя, роль в проекте)
    - Способ построения: Обновляется при добавлении нового участника в проект или удалении участника.
- Проекция для истории изменений задачи:
    - Структура данных: Лог изменений задачи (ID задачи, дата изменения, старое значение, новое значение)
    - Способ построения: Каждый раз, когда задача изменяется (например, изменен статус, исполнитель или название
      задачи), лог изменений обновляется.
- Проекция для статистики проекта:
    - Структура данных: Статистика по задачам проекта (количество задач по статусам, количество задач по исполнителям)
    - Способ построения: Регулярное обновление статистики для проекта, сбор данных по статусам и исполнителям,
      использование асинхронной обработки.

## 5. Дополнительные проекции

- Проекция для аудитинга:
    - Необходимая проекция: История действий пользователя (например, кто создал проект, кто изменил задачу, кто
      назначил
      исполнителя).
    - Структура данных: Лог всех действий пользователя в системе.
    - Способ построения: Создание отдельного лога для всех изменений, связанных с пользователями и задачами (истории изменений задачи)